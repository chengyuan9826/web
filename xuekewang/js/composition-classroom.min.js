var $mediaBtn=$(".comps-media");var $video=$("#video");$(function(){showMedia();controlTool();goNav();goTop()});function showMedia(){$mediaBtn.on("click",function(){var b=$("body").scrollTop();$(".js-model").css("display","block");var a=$(this).attr("href");$video.attr("src",a);$(".fixedBox").animate({height:"100%"},200);$(window).on("scroll",function(){$(this).scrollTop(b)});return false})}function controlTool(){var g=$(".mediaControl");var b=g.find(".openPause");var h=g.find(".entireBtn");var o=g.find(".timeShow");var f=g.find(".timeLine");var t=f.find(".showCurrentTime");var m=f.find(".hadShow");var l=f.find(".slideBtn");var i=$(".mediaShow .openBtn");var j=0;var p=0;var a=$("#close");var d=$(".fixedBox");var r=g.find(".volumeBox");a.on("click",function(){d.css("height",0);$(window).off("scroll");$video[0].currentTime=0;$(".popWindow").css("display","none");$video.attr("src","");t.html(p).css("left",0);l.css("left",0);b.find(".openPauseBtn").addClass("openPauseBg");m.width(0)});b.on("click",b,function(){if($video[0].paused){$video[0].play();$(this).find(".openPauseBtn").removeClass("openPauseBg")}else{$video[0].pause();i.css("display","block");$(this).find(".openPauseBtn").addClass("openPauseBg")}$(".popWindow").css("display","none")});i.on("click",function(){$video[0].play();i.css("display","none");b.find(".openPauseBtn").removeClass("openPauseBg")});h.on("click",function(){if($video[0].requestFullscreen){$video[0].requestFullscreen()}else{if($video[0].mozRequestFullScreen){$video[0].mozRequestFullScreen()}else{if($video[0].webkitRequestFullScreen){$video[0].webkitRequestFullScreen()}}}});$video.on("loadedmetadata",function(){j=$video[0].duration});$video.on("timeupdate",function(){var z=0,w=0,y=0,B=0,D=0,v=0;p=$video[0].currentTime;var A=(p/60)>1?parseInt(p/60):0;var x=parseInt(p)%60;var C=(j/60)>1?parseInt(j/60):0;var u=parseInt(j)%60;o.html(A+":"+x+"/"+C+":"+u);z=m.parent().width();y=l.width();D=t.width();B=parseInt(z)-parseInt(y);v=parseInt(z)-parseInt(D);m.width((p/j)*100+"%");t.html(A+":"+x).css("left",((p*v)/(j*z))*100+"%");l.css("left",((p*B)/(j*z))*100+"%")});var q=false;m.parent().mousedown(function(u){q=true;k(u.pageX);$(document).on("mousemove",function(v){if(q){k(v.pageX)}})});$(document).mouseup(function(u){if(q){q=false;k(u.pageX)}$(document).off("mousemove")});var k=function(v){var y=m.parent();var u=v-y.offset().left;var w=100*u/(y.width()-l.width());if(w>100){w=100}if(w<0){w=0}m.css("width",w+"%");l.css("left",w+"%");$video[0].currentTime=j*w/100;t.html($video[0].currentTime).css("left",w+"%")};$video.on("ended",function(){$video[0].pause();b.find(".openPauseBtn").addClass("openPauseBg");$(".popWindow").css("display","block")});var e=r.find(".currentVolume");var s=r.find(".volumeBtn");var c=$video[0].volume;var n=r.find(".volumeStatic");e.width(c*100+"%");s.css("left",c*100+"%");$(".maxVolume").on("mousedown",function(w){var u=w.pageX-$(this).offset().left;var v=100*u/$(".maxVolume").width();e.css("width",v+"%");$video[0].volume=v/100;s.css("left",v+"%");$video[0].muted=false;n.text("")});n.click(function(){$video[0].muted=!$video[0].muted;e.css("width",0);s.css("left",0);$(this).text("/")})}function goNav(){$(".comps-type-item a").on("click",function(){var a=$(this).attr("href");var b=$(a).offset().top;$("html,body").animate({scrollTop:b-100},800);return false})}var $goTop=$(".goTop");$(window).on("resize",function(){if($(window).width()<1400){$goTop.css("right","10px")}});function goTop(){$goTop.on("click",function(){$("html,body").animate({scrollTop:0},800)})};