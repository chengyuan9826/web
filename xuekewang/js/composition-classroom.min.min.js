var $mediaBtn=$(".comps-media");var $video=$("#video");$(function(){showMedia();controlTool();goNav();goTop()});function showMedia(){$mediaBtn.on("click",function(){var c=$("body").scrollTop();$(".js-model").css("display","block");var d=$(this).attr("href");$video.attr("src",d);$(".fixedBox").animate({height:"100%"},200);$(window).on("scroll",function(){$(this).scrollTop(c)});return false})}function controlTool(){var H=$(".mediaControl");var M=H.find(".openPause");var G=H.find(".entireBtn");var z=H.find(".timeShow");var I=H.find(".timeLine");var u=I.find(".showCurrentTime");var B=I.find(".hadShow");var C=I.find(".slideBtn");var F=$(".mediaShow .openBtn");var E=0;var y=0;var N=$("#close");var K=$(".fixedBox");var w=H.find(".volumeBox");N.on("click",function(){K.css("height",0);$(window).off("scroll");$video[0].currentTime=0;$(".popWindow").css("display","none");$video.attr("src","");u.html(y).css("left",0);C.css("left",0);M.find(".openPauseBtn").addClass("openPauseBg");B.width(0)});M.on("click",M,function(){if($video[0].paused){$video[0].play();$(this).find(".openPauseBtn").removeClass("openPauseBg")}else{$video[0].pause();F.css("display","block");$(this).find(".openPauseBtn").addClass("openPauseBg")}$(".popWindow").css("display","none")});F.on("click",function(){$video[0].play();F.css("display","none");M.find(".openPauseBtn").removeClass("openPauseBg")});G.on("click",function(){if($video[0].requestFullscreen){$video[0].requestFullscreen()}else{if($video[0].mozRequestFullScreen){$video[0].mozRequestFullScreen()}else{if($video[0].webkitRequestFullScreen){$video[0].webkitRequestFullScreen()}}}});$video.on("loadedmetadata",function(){E=$video[0].duration});$video.on("timeupdate",function(){var e=0,h=0,f=0,c=0,a=0,i=0;y=$video[0].currentTime;var d=(y/60)>1?parseInt(y/60):0;var g=parseInt(y)%60;var b=(E/60)>1?parseInt(E/60):0;var j=parseInt(E)%60;z.html(d+":"+g+"/"+b+":"+j);e=B.parent().width();f=C.width();a=u.width();c=parseInt(e)-parseInt(f);i=parseInt(e)-parseInt(a);B.width((y/E)*100+"%");u.html(d+":"+g).css("left",((y*i)/(E*e))*100+"%");C.css("left",((y*c)/(E*e))*100+"%")});var x=false;B.parent().mousedown(function(a){x=true;D(a.pageX);$(document).on("mousemove",function(b){if(x){D(b.pageX)}})});$(document).mouseup(function(a){if(x){x=false;D(a.pageX)}$(document).off("mousemove")});var D=function(b){var d=B.parent();var c=b-d.offset().left;var a=100*c/(d.width()-C.width());if(a>100){a=100}if(a<0){a=0}B.css("width",a+"%");C.css("left",a+"%");$video[0].currentTime=E*a/100;u.html($video[0].currentTime).css("left",a+"%")};$video.on("ended",function(){$video[0].pause();M.find(".openPauseBtn").addClass("openPauseBg");$(".popWindow").css("display","block")});var J=w.find(".currentVolume");var v=w.find(".volumeBtn");var L=$video[0].volume;var A=w.find(".volumeStatic");J.width(L*100+"%");v.css("left",L*100+"%");$(".maxVolume").on("mousedown",function(a){var c=a.pageX-$(this).offset().left;var b=100*c/$(".maxVolume").width();J.css("width",b+"%");$video[0].volume=b/100;v.css("left",b+"%");$video[0].muted=false;A.text("")});A.click(function(){$video[0].muted=!$video[0].muted;J.css("width",0);v.css("left",0);$(this).text("/")})}function goNav(){$(".comps-type-item a").on("click",function(){var d=$(this).attr("href");var c=$(d).offset().top;$("html,body").animate({scrollTop:c-100},800);return false})}var $goTop=$(".goTop");$(window).on("resize",function(){if($(window).width()<1400){$goTop.css("right","10px")}});function goTop(){$goTop.on("click",function(){$("html,body").animate({scrollTop:0},800)})};